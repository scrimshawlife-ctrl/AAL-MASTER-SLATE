{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://aal.local/schema/gtvector.v0.json",
  "title": "GTVector.v0",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "id",
    "seed",
    "players",
    "game",
    "actions",
    "payoffs",
    "signals",
    "shocks",
    "expected_ranges"
  ],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^gtv-[0-9]{3}$"
    },
    "seed": {
      "type": "integer",
      "minimum": 0,
      "maximum": 999999
    },
    "players": {
      "type": "array",
      "minItems": 2,
      "items": {
        "type": "string",
        "minLength": 1
      }
    },
    "game": {
      "type": "object",
      "additionalProperties": false,
      "required": ["name", "type", "rent_payment"],
      "properties": {
        "name": {"type": "string"},
        "type": {"type": "string"},
        "rent_payment": {"type": "boolean"}
      }
    },
    "actions": {
      "type": "array",
      "minItems": 2,
      "items": {
        "type": "string",
        "minLength": 1
      }
    },
    "payoffs": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["player", "action", "value"],
        "properties": {
          "player": {"type": "string"},
          "action": {"type": "string"},
          "value": {"type": "number"}
        }
      }
    },
    "signals": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["name", "cost", "credibility", "noise", "tag"],
        "properties": {
          "name": {"type": "string"},
          "cost": {"type": "number", "minimum": 0},
          "credibility": {"type": "number", "minimum": 0, "maximum": 1},
          "noise": {"type": "number", "minimum": 0, "maximum": 1},
          "tag": {"type": "string"}
        }
      }
    },
    "shocks": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["name", "magnitude", "probability"],
        "properties": {
          "name": {"type": "string"},
          "magnitude": {"type": "number"},
          "probability": {"type": "number", "minimum": 0, "maximum": 1}
        }
      }
    },
    "expected_ranges": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "coordination_pressure",
        "defection_risk",
        "equilibrium_stability",
        "hidden_player_likelihood",
        "payoff_opacity_index",
        "signal_cost_ratio",
        "credibility_decay_rate"
      ],
      "properties": {
        "coordination_pressure": {"$ref": "#/definitions/range"},
        "defection_risk": {"$ref": "#/definitions/range"},
        "equilibrium_stability": {"$ref": "#/definitions/range"},
        "hidden_player_likelihood": {"$ref": "#/definitions/range"},
        "payoff_opacity_index": {"$ref": "#/definitions/range"},
        "signal_cost_ratio": {"$ref": "#/definitions/range"},
        "credibility_decay_rate": {"$ref": "#/definitions/range"}
      }
    }
  },
  "definitions": {
    "range": {
      "type": "object",
      "additionalProperties": false,
      "required": ["min", "max"],
      "properties": {
        "min": {"type": "number", "minimum": 0, "maximum": 1},
        "max": {"type": "number", "minimum": 0, "maximum": 1}
      }
    }
  }
}
